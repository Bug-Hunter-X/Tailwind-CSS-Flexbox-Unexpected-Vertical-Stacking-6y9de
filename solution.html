```html
<div class="flex flex-wrap">
  <div class="bg-red-500 p-4">
    This is red
  </div>
  <div class="bg-blue-500 p-4">
    This is blue
  </div>
</div>
```
This revised code adds the `flex-wrap` utility. This tells the flex container to wrap its items onto multiple lines if there isn't enough horizontal space, preventing the unexpected vertical stacking. Alternatively, you could adjust the parent container's width or use responsive design techniques.